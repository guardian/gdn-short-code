{% extends 'base.html' %}

{% block title %}Admin{% endblock %}

{% block content %}

<div class="container">
	<div class="row">
		<div class="col-md-12">
			<h1 class="article-heading">Short codes</h1>
		</div>
	</div>

	<div class="row">
		<div class="col-md-6">
			<h2>Add a new short code</h2>

			<form method="POST" role="form">
				<div class="form-group">
					<label for="name">Name</label>
					<input id="name" type="text" name="name" class="form-control" placeholder="Name" required>
				</div>
				<div class="form-group">
					<label for="campaign_code" >Campaign code</label>
					<input id="campaign_code" type="text" name="campaign_code" class="form-control" placeholder="Campaign code" required>
				</div>
				<div class="form-group">
					<label for="campaign">Campaign</label>
					<select class="form-control" name="campaign" required>
						{% for campaign in campaigns %}
						<option>{{campaign}}</option>
						{% endfor %}
					</select>
				</div>
				<div class="form-group">
				<button type="submit" class="btn btn-default">Save</button>
				</div>
			</form>
		</div>
		<div class="col-md-6">
			<h2>Short codes</h2>
			
			<ul>
				{% for short_code in short_codes %}
				<li class="short-code-display"><span class="short-code-display__summary">{{short_code.name}} - {{short_code.code}} - {{short_code.campaign}}</span> <form method="POST" action="/admin/short-codes/delete-form" class="form-inline"><input type="hidden" name="key" value="{{short_code.key.urlsafe()}}"><button type="submit" class="btn btn-sm">Delete</button></form></li>
				{% endfor %}

		</div>
	</div>
</div>

{% endblock %}
